const MAX_PRICE = 10000000;
var maxYear = document.getElementById("maxYear");
buildYearOption(document.getElementById("minYear"));
buildPriceOption(document.getElementById("minPrice"))




function buildPriceOption(minPrice){
    var initialPrice = 100000;
    for (let i = 1; initialPrice != MAX_PRICE; i++) {
        option = document.createElement("option");
        option.setAttribute( "id", initialPrice+"" ) ;
        option.setAttribute("value",""+initialPrice);
        option.innerHTML =initialPrice;
        initialPrice += 50000;
        minPrice.appendChild(option);
    }
}

function buildYearOption(year){
    for (let i = 1930; i < 2021; i++) {
        const actualYear = i;
        option = document.createElement("option");
        option.setAttribute( "id", actualYear+"" ) ;
        option.setAttribute("value",""+actualYear);
        option.innerHTML =actualYear;
        year.appendChild(option);
    }
}

function buildMaxYear(selected){
    borrar();
    for (let i = selected; i < 2021; i++) {
        const actualYear = i;
        option = document.createElement("option");
        option.setAttribute( "id", actualYear+"" ) ;
        option.setAttribute("value",""+actualYear);
        option.innerHTML =actualYear;
        document.getElementById("maxYear").appendChild(option);
    }
}

function buildMaxPrice(selected){
    var initialPrice = selected;
    for (let i = 1; initialPrice <= MAX_PRICE; i++) {
        option = document.createElement("option");
        option.setAttribute( "id", initialPrice+"" ) ;
        option.setAttribute("value",""+initialPrice);
        option.innerHTML =initialPrice;
        initialPrice += 50000;
        document.getElementById("maxPrice").appendChild(option);
    }
}

function showSelectedMinYear(){
    var cod = document.getElementById("minYear").value;
    buildMaxYear(cod);
}

function showSelectedMinPrice(){
    var cod = document.getElementById("minPrice").value;
    buildMaxPrice(cod);
}

function borrar() {
    for (let i = maxYear.length; i >= 0; i--) {
        maxYear.remove(i);        
    }
  }